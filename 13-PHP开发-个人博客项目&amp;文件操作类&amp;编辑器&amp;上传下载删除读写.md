![img](https://cdn.nlark.com/yuque/0/2024/png/1591503/1721114265587-63a3924f-25a9-4277-a9ed-ae8f7a5cb864.png)

```plain
#知识点：
1、文件操作类代码编写
2、文件上传&下载&删除
3、文件内容&读取&写入
4、第三方编辑器引用实例
```

- 小迪博客-文件操作&上传&下载&删除&读取&写入等

```plain
#文件上传类：-任意文件上传
1、代码自主写
自己写文件上传和文件处理代码，进行自写代码进行上传。过滤完全需要考自己的代码是否严格。
自己写代码上传HTML：
```

![img](https://cdn.nlark.com/yuque/0/2024/png/1591503/1721114263024-d97db1ca-1a01-4123-be7d-7b7776eac851.png)

自己写代码接受PHP：

![img](https://cdn.nlark.com/yuque/0/2024/png/1591503/1721114263035-5f900e16-c738-4367-8a8b-ef8b42d5dbc8.png)

处理文件：

![img](https://cdn.nlark.com/yuque/0/2024/png/1591503/1721114263024-fed0c56a-9bb2-4ffe-8fc1-4609e1ec2398.png)

```plain
2、编辑器引用
引用编辑器上的代码进行上传，网上有相关代码。编辑器如果有漏洞，那么上传就会出现漏洞。
不是网站代码去验证，而是编辑器去验证。核心代码在 编辑器里面，不在代码里面。
调用模块：
```

![img](https://cdn.nlark.com/yuque/0/2024/png/1591503/1721114263178-a0fe8fa0-6866-4515-99ed-86052e6f66ae.png)

```plain
3、框架引用（跟编辑器差不多原理）
总结：
1.自卸代码验证上传，验证核心在代码
2.引用的外部编辑器实现，验证核心在编辑器里
3.一弄开发框架实现，验证核心在框架里
#文件下载类：-任意文件下载
1、直连URL访问
http：//www.xiaodi8.comm/soft/软件.zip
这种下载是安全的
2、传参头部修改
http：//www.xiaodi8.comm/soft/down.php?filename=软件.zip
两种区别：
```

![img](https://cdn.nlark.com/yuque/0/2024/png/1591503/1721114263283-b475eba3-eed7-450f-824f-8062ff5828dc.png)

获取目录：

![img](https://cdn.nlark.com/yuque/0/2024/png/1591503/1721114263419-0f308a78-5e8d-4aad-ab0a-a11554a076e8.png)

下载：

![img](https://cdn.nlark.com/yuque/0/2024/png/1591503/1721114263753-4e3ebde5-72d9-461d-ab61-fb3e006abe53.png)

```plain
#文件删除类-任意文件删除
1、文件删除
2、文件夹删除

#文件内容操作类-任意文件读取&写入
1、文件读取
2、文件写入

#文件包含-任意文件包含
包含即执行，以脚本执行
1、本地文件包含

2、远程文件包含
 
Web漏洞核心：
1、可控变量
2、特定函数-函数的多样化
```





来自: [安全的小菜鸡 - 第13天：PHP开发-个人博客项目&文件操作类&编辑器&上传下载删除读写](http://www.mumuxi8.com/?id=16)